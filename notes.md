- make a mongo_auth_depl to create a mongo instance and a service to talk to it
- make sure to connect to it via the auth service , test ur connection with the database
- the postgres://auth-pg-srv:8080/dbName ? the db link , connect to Db
- make a model for the user
- the sign in flow , check if user email exists if yes error that ,if no hash the password and store the hashed password and the plain email in the user model , i will add a first ,last name for the user model
- there's two main issues with mongoose and ts mongoose doesn't reveal to ts server what are the attr that's on the model we need a way to make sure tat any typo's error will be discovered by ts ,so we make an interface and add all the model attributes to it and then attach it to the model using statics.build and so on ,we also make a new interface to tell ts that the build method is available in the user model instance , we also add 3 any's on in the return of build,in the model generic ,in the modelSchema generic second argument
- model <take type of the returned document,type of the used model>
- after saving the user data , response with access token,and refresh token
-
